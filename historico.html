<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob:; connect-src 'self' https://api.dropboxapi.com https://content.dropboxapi.com https:; object-src 'self' blob:; base-uri 'self'; frame-ancestors 'self'; form-action 'self'">
    <title>Hist√≥rico de Realizados ‚Äî EduKanban</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìÖ</text></svg>">
    <style>
      .history-toolbar { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom: 12px; }
      .history-meta { color: var(--color-muted); font-size: 12px; display:block; margin-top:4px; }
      .history-count { background:#eef2f7; border:1px solid var(--color-border); color:#374151; padding:2px 6px; border-radius:6px; font-size:12px; margin-left:6px; }
    </style>
    </head>
<body>
    <header>
        <div class="header-top">
            <img src="icons/logolargo.png" alt="EduKanban" class="logo"/>
        </div>
        <nav class="main-nav" role="tablist">
            <a href="index.html" class="tab" role="tab" aria-selected="false">Tablero</a>
            <a href="recursos.html" class="tab" role="tab" aria-selected="false">Recursos</a>
            <a href="recordatorios.html" class="tab" role="tab" aria-selected="false">Recordatorios</a>
            <a href="archivo.html" class="tab" role="tab" aria-selected="false">Archivo</a>
            <a href="historico.html" class="tab active" role="tab" aria-selected="true">Hist√≥rico</a>
        </nav>
    </header>

    <main>
        <div class="history-toolbar">
            <label for="history-date">Fecha:</label>
            <input type="date" id="history-date" />
            <label for="history-tag">Etiqueta:</label>
            <select id="history-tag">
                <option value="">Todas</option>
            </select>
            <button id="history-latest" type="button" class="boton-accion">Ir al √∫ltimo d√≠a con realizados</button>
        </div>
        <div id="history-summary" class="history-meta"></div>
        <div id="history-container" class="task-container"></div>

        <!-- Modal est√°ndar compartido con el tablero -->
        <div id="popup-tarea" class="modal">
            <div class="modal-content">
                <form id="popup-task-form">
                    <textarea id="popup-task-name" placeholder="Nueva actividad" rows="8"></textarea>
                    <select id="popup-task-category">
                        <option value="en-preparacion">En preparaci√≥n</option>
                        <option value="preparadas">Preparadas</option>
                        <option value="en-proceso">En proceso</option>
                        <option value="pendientes">Pendientes</option>
                    </select>
                    <label for="popup-task-order">Orden (A‚ÄìZ)</label>
                    <select id="popup-task-order">
                        <option value=""></option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="G">G</option>
                        <option value="H">H</option>
                        <option value="I">I</option>
                        <option value="J">J</option>
                        <option value="K">K</option>
                        <option value="L">L</option>
                        <option value="M">M</option>
                        <option value="N">N</option>
                        <option value="O">O</option>
                        <option value="P">P</option>
                        <option value="Q">Q</option>
                        <option value="R">R</option>
                        <option value="S">S</option>
                        <option value="T">T</option>
                        <option value="U">U</option>
                        <option value="V">V</option>
                        <option value="W">W</option>
                        <option value="X">X</option>
                        <option value="Y">Y</option>
                        <option value="Z">Z</option>
                    </select>
                    <textarea id="popup-task-tags" placeholder="Etiquetas (separadas por comas)" rows="3"></textarea>
                    <datalist id="all-tags-list"></datalist>
                    <div id="tag-suggestions" class="tag-suggestions"></div>
                    <label for="popup-task-reminder">Recordatorio (fecha y hora)</label>
                    <input type="datetime-local" id="popup-task-reminder">
                    <label for="popup-task-attachments">Adjuntos</label>
                    <input type="file" id="popup-task-attachments" multiple>
                    <div id="popup-existing-attachments" class="attachments"></div>
                    <button type="button" id="popup-attach-reuse-toggle" class="boton-accion">üîÅ Reutilizar adjunto</button>
                    <div id="popup-attach-reuse-panel" class="reuse-panel" style="display:none"></div>
                    <div class="acciones-popup">
                        <button type="submit">A√±adir</button>
                        <button type="button" id="cancelar-popup">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="confirm-modal" class="modal">
            <div class="modal-content">
                <div id="confirm-message" class="confirm-message">¬øConfirmas esta acci√≥n?</div>
                <div class="acciones-popup">
                    <button type="button" id="confirm-accept" class="boton-peligro">Eliminar</button>
                    <button type="button" id="confirm-cancel">Cancelar</button>
                </div>
            </div>
        </div>
    </main>

    <script src="js/i18n.js"></script>
    <script src="js/app.js"></script>
    <script src="js/historico.js"></script>
    <script src="js/sw-register.js"></script>
</body>
</html>
